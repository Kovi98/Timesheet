@using Microsoft.AspNetCore.Identity
@using Portal.Areas.Identity
@inject SignInManager<ApplicationUser> SignInManager
@inject UserManager<ApplicationUser> UserManager
<!-- Main Sidebar Container -->
<aside class="main-sidebar sidebar-dark-primary elevation-4">
    <!-- Brand Logo -->
    <a asp-page="/Index" class="brand-link">
        <img src="~/img/logo.png" alt="Timesheet" class="brand-image img-circle elevation-3" style="opacity: .8">
        <span class="brand-text font-weight-light">Portál Timesheet</span>
    </a>

    <!-- Sidebar -->
    <div class="sidebar">
        <!-- Sidebar user panel (optional) -->
        <div class="user-panel mt-3 pb-3 mb-3 d-flex">
            <div class="info">
                <div class="col-lg-10">
                    <a asp-area="Identity" asp-page="/Account/Manage/Index" class="d-block">
                        @{
                            string userName = "Nepřihlášený uživatel";
                            if (SignInManager.IsSignedIn(User))
                            {
                                var user = await UserManager.GetUserAsync(User);
                                userName = user.FullName;
                            }
                        }
                        <i class="nav-icon fas fa-user mr-2"></i> @userName
                    </a>
                </div>
                <!--
    <form class="form-inline" asp-area="Identity" asp-page="/Account/Logout" asp-route-returnUrl="//Url.Page("/Index", new { area = "" })" method="post">
            <button type="submit" class="nav-link btn"><i class="nav-icon fas fa-sign-out-alt"></i></button>
        </form>
    -->
            </div>

        </div>

        <!-- Sidebar Menu -->
        <nav class="mt-2">
            <ul class="nav nav-pills nav-sidebar flex-column" data-widget="treeview" role="menu" data-accordion="false">
                <li class="nav-item">
                    <a asp-area="Timesheets" asp-page="/Index" class="nav-link">
                        <i class="nav-icon fas fa-edit"></i>
                        <p>Výkazy</p>
                    </a>
                </li>
                <li class="nav-item">
                    <a asp-area="RewardSummaries" asp-page="/Index" class="nav-link">
                        <i class="nav-icon fas fa-coins"></i>
                        <p>Odměny</p>
                    </a>
                </li>
                <li class="nav-item">
                    <a asp-area="People" asp-page="/Index" class="nav-link">
                        <i class="nav-icon fas fa-running"></i>
                        <p>Trenéři</p>
                    </a>
                </li>
                <li class="nav-item">
                    <a asp-area="Payments" asp-page="/Index" class="nav-link">
                        <i class="nav-icon fas fa-hand-holding-usd"></i>
                        <p>Platby</p>
                    </a>
                </li>
                <li class="nav-header">Nastavení</li>
                <li class="nav-item">
                    <a asp-area="Identity" asp-page="/Account/Manage/Index" class="nav-link">
                        <i class="nav-icon fas fa-users"></i>
                        <p>Uživatelé</p>
                    </a>
                </li>
                <li class="nav-item">
                    <a asp-page="pages/calendar.html" class="nav-link">
                        <i class="nav-icon fas fa-handshake"></i>
                        <p>Smlouvy</p>
                    </a>
                </li>
                <li class="nav-item">
                    <a asp-area="Identity" asp-page="/Account/Logout" class="nav-link">
                        <i class="nav-icon fas fa-sign-out-alt"></i>
                        <p>Odhlásit se</p>
                    </a>
                </li>
            </ul>
        </nav>
        <!-- /.sidebar-menu -->
    </div>
    <!-- /.sidebar -->
</aside>